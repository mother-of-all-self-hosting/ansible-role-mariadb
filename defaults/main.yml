---

mariadb_enabled: true

# mariadb_identifier controls the identifer of this MariaDB instance, which influences:
# - the default storage path
# - the names of systemd services
# - the names of various helper scripts
# - the names of temporary files
# - the name of the main container network
mariadb_identifier: 'mariadb'

mariadb_version: 10.11.2

mariadb_uid: ''
mariadb_gid: ''

mariadb_base_path: "/{{ mariadb_identifier }}"
mariadb_data_path: "{{ mariadb_base_path }}/data"
mariadb_bin_path: "{{ mariadb_base_path }}/bin"

mariadb_container_image: "{{ mariadb_container_image_registry_prefix }}mariadb:{{ mariadb_container_image_tag }}"
mariadb_container_image_tag: "{{ mariadb_version }}-jammy"
mariadb_container_image_force_pull: "{{ mariadb_container_image.endswith(':latest') }}"
mariadb_container_image_registry_prefix: docker.io/

mariadb_container_network: "{{ mariadb_identifier }}"

# A list of additional container networks that the container would be connected to.
# The role does not create these networks, so make sure they already exist.
mariadb_container_additional_networks: "{{ mariadb_container_additional_networks_auto + mariadb_container_additional_networks_custom }}"
mariadb_container_additional_networks_auto: []
mariadb_container_additional_networks_custom: []

mariadb_db_name: ''
mariadb_root_passsword: ''
mariadb_db_username: ''
mariadb_db_password: ''

# A list of databases (and their credentials) that this role will create and manage on the server.
#
# `mariadb_managed_databases_auto` is managed by the playbook.
# Your own definitions should go into `mariadb_managed_databases_custom`
# See `mariadb_managed_databases_custom` for the correct syntax.
mariadb_managed_databases: "{{ mariadb_managed_databases_auto + mariadb_managed_databases_custom }}"

# Additional/managed database definitions managed by the playbook.
# To add your own, use `mariadb_managed_databases_custom`
mariadb_managed_databases_auto: []

# Your own additional/managed database definitions.
#
# Also see:
# - mariadb_managed_databases_default_charset
# - mariadb_managed_databases_default_collation
#
# mariadb_managed_databases_custom:
#   - name: some_database
#     username: some_username
#     password: some_password
#   - name: another_database
#     username: another_username
#     password: another_password
#     charset: utf8
#     collation: utf8_general_ci
mariadb_managed_databases_custom: []

mariadb_managed_databases_default_charset: utf8mb4
mariadb_managed_databases_default_collation: utf8mb4_unicode_ci

# The number of seconds to wait after starting the MariaDB systemd service
# and before trying to run queries for initializing managed databases/users against it.
#
# For most (subsequent) runs, Postgres would already be running, so no waiting will be happening at all.
mariadb_managed_databases_service_start_wait_timeout_seconds: "{{ 15 }}"

mariadb_systemd_required_services_list: "{{ mariadb_systemd_required_services_list_default + mariadb_systemd_required_services_list_auto + mariadb_systemd_required_services_list_custom }}"
mariadb_systemd_required_services_list_default: ['docker.service']
mariadb_systemd_required_services_list_auto: []
mariadb_systemd_required_services_list_custom: []
